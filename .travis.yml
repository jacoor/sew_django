language: python
python:
#  - "2.5"  
  - "2.6"
  - "2.7"
#  - "3.3"

env:
  - DJANGO="django==1.6.1 --use-mirrors"
  - DJANGO="django==1.6 --use-mirrors"
  - DJANGO=https://github.com/django/django/archive/master.zip  

install:
 - sudo apt-get update
 - sudo apt-get install ruby1.8 ruby1.8-dev irb rdoc ri --fix-missing
 - sudo gem install sass
 - sudo gem install compass
 - pip install -r requirements.txt -y --use-mirrors
 - pip install coverage coveralls
 - pip install $DJANGO

before_script:
  - python manage.py compress

script:
#  - coverage run --source='.' manage.py test sew_django
 - coverage run --source=sew_django manage.py test
#  - coverage run --source=django_sew manage.py test django_sew

#matrix:
#  exclude:
#    - python: "3.3"
#      env: DJANGO="django==1.4.2 --use-mirrors"

after_success:
#  - coverage report --omit="basic_cms/tests/*" -m
  - coveralls

notifications:
  email:
    recipients:
      - jacek@ivolution.pl
